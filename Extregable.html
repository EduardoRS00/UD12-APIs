<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Pagina de Edu</h1>
    <p class="cuenta"></p>
    <script>
        function timeout(ms) {
            return new Promise(resolve => {
                const intervalo = setInterval(() => {
                    const cuentaElem = document.querySelector('.cuenta');
                    cuentaElem.textContent = `Cuenta atr√°s: ${ms} s`;
                    ms--;

                    if (ms < 0) {
                        clearInterval(intervalo);
                        resolve(); 
                    }
                }, 1000);
            });
        }
            function notificacion(){
                if (Notification.permission === 'granted'){
                    let notificacion = new Notification('Nuevo Video', {
                        body: 'haz click aqui para ver el video',
                        icon: 'notificacion.png'
                    });
                    notificacion.addEventListener('click', () =>{
                        window.location.href='video.html';
                    });
                }else{
                    Notification.requestPermission().then(permission =>{
                        if (permission === 'granted'){
                            let notificacion = new Notification('Nuevo Video', {
                            body: 'haz click aqui para ver el video',
                            icon: 'notificacion.png'
                        }); 
                            notificacion.addEventListener('click', () =>{
                            window.location.href='video.html';
                        });

                        }
                    })
                }
            }
        
        window.onload = async () => {
            await timeout(5); 
            notificacion();
        };
    </script>
</body>
</html>